<!DOCTYPE html>
<html>

<head>
    <title>Test Binding</title>
    <script async src="bin/main.js"></script>
    <script>
        Module = {
            preRun: [],
            postRun: [post_run],
            print: function () {
                var t = document.getElementById("output");
                return t && (t.value = ""),
                    function (e) {
                        1 < arguments.length && (e = Array.prototype.slice.call(arguments).join(" ")), console.log(e), t && (t.value += e + "\n", t.scrollTop = t.scrollHeight)
                    }
            }(),
            printErr: function (e) {
                1 < arguments.length && (e = Array.prototype.slice.call(arguments).join(" ")), console.error(e)
            }
        };

        function post_run() {
            var instance = new Module.MyClass(10, "hello");
            var helloWorld = new Module.HelloWorld("test");
            var helloWorld2 = new Module.HelloWorld("2");
            console.log("Id:" + helloWorld.getIdOfInstance());
            console.log("Id (2):" + helloWorld2.getIdOfInstance());
            instance.incrementX();
            console.log(instance.x); // 11
            console.log(instance.x = 20); // 20
            console.log(Module.MyClass.getStringFromInstance(instance)); // "hello"
            instance.delete();
            helloWorld.delete();
            helloWorld2.delete();
        }
    </script>
</head>

<body>
    See console
    <div id="output"></div>
</body>

</html>